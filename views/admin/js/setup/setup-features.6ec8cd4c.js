(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setup/setup-features"],{"0315":function(t,e,n){},1525:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"le-marin"},[n("div",{staticClass:"le-card"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"接口设置",name:"interface"}},[n("Interface")],1),n("el-tab-pane",{attrs:{label:"定时任务",name:"timing"}},[n("Timing")],1),n("el-tab-pane",{attrs:{label:"定位服务",name:"position"}},[n("Position")],1),n("el-tab-pane",{attrs:{label:"服务器设置",name:"server"}},[n("Server")],1)],1)],1)])},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"ruleForm",staticClass:"le-main",attrs:{"label-width":"200px",model:t.form,rules:t.rules}},[n("div",{staticClass:"le-card"},[n("div",{staticClass:"le-card--header flex align-center"},[n("span",{staticClass:"le-sign"}),n("span",[t._v("采集接口")])]),n("el-form-item",{attrs:{label:"接口来源"}},[t._v(" 99api")]),n("el-form-item",{attrs:{label:"接口购买地址"}},[n("a",{staticStyle:{color:"#623ceb"},attrs:{target:"_blank",href:"https://www.99api.com/Login?log=5&referee=2262"}},[t._v("https://www.99api.com/Login?log=5&referee=2262")]),n("div",{staticClass:"he-tips"},[t._v("使用此链接注册99api账号，接口将自动开通")])]),n("el-form-item",{attrs:{label:"99api apikey",prop:"apikey_99"}},[n("el-input",{attrs:{placeholder:"请输入99api  apikey"},model:{value:t.form.apikey_99,callback:function(e){t.$set(t.form,"apikey_99",e)},expression:"form.apikey_99"}}),n("div",{staticClass:"he-tips"},[t._v("用于商品采集和评价助手")])],1)],1),n("div",{staticClass:"le-cardpin"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存")])],1)])},o=[],r=(n("ac1f"),n("841c"),{name:"interface",data:function(){return{form:{apikey_99:""},rules:{apikey_99:[{required:!0,message:"请填写apikey",trigger:"blur"}]},loading:!0}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var t=this;this.$heshop.search("post",{include:"setting"},{keyword:"apikey_99"}).then((function(e){t.form=e.content})),t.loading=!1},save:function(){var t=this;this.loading=!0;var e=this;this.$refs["ruleForm"].validate((function(n){n?e.$heshop.setting("post",{keyword:"apikey_99",content:{apikey_99:e.form.apikey_99}}).then((function(){e.loading=!1,e.$message.success("保存成功")})).catch((function(t){e.loading=!1,e.$message.error(t.data.message)})):t.loading=!1}))}}}),c=r,l=(n("8684"),n("2877")),u=Object(l["a"])(c,s,o,!1,null,"87b19c6a",null),d=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"ruleForm",staticClass:"le-main",attrs:{"label-width":"200px",model:t.form}},[n("div",{staticClass:"le-card"},[n("div",{staticClass:"le-card--header flex align-center"},[n("span",{staticClass:"le-sign"}),n("span",[t._v("定时任务")])]),n("el-form-item",{attrs:{label:"定时任务"}},[n("el-input",{attrs:{disabled:"",value:t.form.crontab}}),n("span",{staticClass:"le-copy",on:{click:function(e){return t.copy(t.form.crontab)}}},[t._v("复制链接")]),n("div",{staticClass:"he-tips"},[t._v(" 请将定时任务链接，配置到服务器。 "),n("span",{staticClass:"le-copy"},[n("a",{staticStyle:{color:"inherit"},attrs:{href:"https://www.leadshop.vip/thread/235",target:"_blank"}},[t._v("查看配置教程")])])])],1)],1)])},f=[],m={name:"timing",data:function(){return{form:{crontab:""},loading:!0}},mounted:function(){this.getCrontab()},methods:{getCrontab:function(){var t=this;this.$heshop.crontab("post").then((function(e){t.form.crontab=e})).catch((function(){}))},copy:function(t){var e=document.createElement("div");e.innerText=t,e.style.position="absolute",e.style.top="0px",e.style.right="-9999px",document.body.appendChild(e);var n=document.createRange();n.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(n);document.execCommand("copy");e.parentNode.removeChild(e),this.$message.success("复制成功")}}},v=m,h=(n("9f1b"),Object(l["a"])(v,p,f,!1,null,"2b2bc018",null)),g=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"ruleForm",staticClass:"le-main",attrs:{"label-width":"200px",model:t.form}},[n("div",{staticClass:"le-card"},[n("div",{staticClass:"le-card--header flex align-center"},[n("span",{staticClass:"le-sign"}),n("span",[t._v("定位服务")])]),n("el-form-item",{attrs:{label:"开发者秘钥(key)"}},[n("el-input",{model:{value:t.form.tencent_key,callback:function(e){t.$set(t.form,"tencent_key",e)},expression:"form.tencent_key"}}),n("div",{staticClass:"he-tips"},[t._v(" 使用腾讯定位服务，商品详情页预估运费根据定位地址计算。 "),n("span",{staticClass:"le-copy"},[n("a",{staticStyle:{color:"inherit"},attrs:{href:"https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview",target:"_blank"}},[t._v("申请秘钥")])])])],1)],1),n("div",{staticClass:"le-cardpin"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存")])],1)])},_=[],y={name:"position",data:function(){return{form:{tencent_key:""},loading:!0}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var t=this;this.$heshop.search("post",{include:"setting"},{keyword:"setting_collection",content_key:"location_setting"}).then((function(e){t.form=e})),t.loading=!1},save:function(){var t=this;this.loading=!0;var e=this;this.$refs["ruleForm"].validate((function(n){n?e.$heshop.setting("post",{keyword:"setting_collection",content:{location_setting:{tencent_key:e.form.tencent_key}}}).then((function(){e.loading=!1,e.$message.success("保存成功")})).catch((function(t){e.loading=!1,e.$message.error(t.data.message)})):t.loading=!1}))}}},k=y,w=(n("a4a6"),Object(l["a"])(k,b,_,!1,null,"534920d0",null)),C=w.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"le-main",attrs:{"label-width":"250px",model:t.form,rules:t.rules}},[a("div",{staticClass:"le-card"},[a("div",{staticClass:"le-card--header flex align-center"},[a("span",{staticClass:"le-sign"}),a("span",[t._v("服务器设置")])]),a("el-form-item",{attrs:{label:"小程序使用(新版微信支付功能)"}},[t._v(" 请将以下信息填入微信小程序-开发管理-开发设置-消息推送。 "),a("a",{staticStyle:{color:"#623ceb"},attrs:{target:"_blank"},on:{click:function(e){t.weappVisible=!0}}},[t._v(" 查看引导 ")])]),a("el-form-item",{attrs:{label:"服务器地址(URL)"}},[a("div",[t._v(t._s(t.form.server)+" "),a("span",{staticStyle:{color:"#623ceb",cursor:"pointer"},on:{click:function(e){return t.copy(t.form.server)}}},[t._v(" 复制")])])]),a("el-form-item",{attrs:{label:"令牌(Token)"}},[a("div",[t._v(t._s(t.form.token)+" "),a("span",{staticStyle:{color:"#623ceb",cursor:"pointer"},on:{click:function(e){return t.copy(t.form.token)}}},[t._v(" 复制")]),t._v(" "),a("span",{staticStyle:{color:"#623ceb",cursor:"pointer"},on:{click:function(e){t.form.token=t.randomWord(32)}}},[t._v(" 重置")])])]),a("el-form-item",{attrs:{label:"消息加解密密钥(EncodingAESKey)",prop:"encodingAESKey"}},[a("div",[t._v(t._s(t.form.encodingAESKey)+" "),a("span",{staticStyle:{color:"#623ceb",cursor:"pointer"},on:{click:function(e){return t.copy(t.form.encodingAESKey)}}},[t._v(" 复制")]),t._v(" "),a("span",{staticStyle:{color:"#623ceb",cursor:"pointer"},on:{click:function(e){t.form.encodingAESKey=t.randomWord(43)}}},[t._v(" 重置")])])])],1),a("div",{staticClass:"le-cardpin"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存")])],1)]),a("el-dialog",{attrs:{title:"查看引导",visible:t.weappVisible,width:"867px"},on:{"update:visible":function(e){t.weappVisible=e}}},[a("span",{staticStyle:{"padding-right":"10px"}},[t._v("微信小程序-开发管理-开发设置-消息推送")]),a("a",{staticClass:"text-button dialog-text",attrs:{href:"https://mp.weixin.qq.com/",target:"_blank"}},[t._v("去设置")]),a("img",{staticStyle:{width:"800px",height:"350px","padding-top":"20px"},attrs:{src:n("f192"),alt:""}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.weappVisible=!1}}},[t._v("我知道了")])],1)])],1)},S=[],$=n("19e9"),E={name:"server",data:function(){return{form:{},rules:{},loading:!0,weappVisible:!1}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var t=this;this.loading=!0,this.$heshop.weappserver("get").then((function(e){t.form=e})),this.loading=!1},save:function(){var t=this;this.loading=!0;var e=this;this.$refs["ruleForm"].validate((function(n){n?e.$heshop.setting("post",{keyword:"weapp_server_setting",content:{token:e.form.token,encodingAESKey:e.form.encodingAESKey}}).then((function(){e.loading=!1,e.$message.success("保存成功")})).catch((function(t){e.loading=!1,e.$message.error(t.data.message)})):t.loading=!1}))},copy:function(t){var e=this;Object($["a"])({content:t,success:function(){console.log(e),e.$message.success("复制成功")}})},randomWord:function(t){console.log(t);for(var e="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a="",i=0;i<t;i++)a=Math.round(Math.random()*(n.length-1)),e+=n[a];return e}}},j=E,N=(n("4665"),Object(l["a"])(j,x,S,!1,null,"7d59c02a",null)),A=N.exports,q={name:"features",components:{Interface:d,Timing:g,Position:C,Server:A},data:function(){return{activeName:"interface"}},mounted:function(){this.tabsCode()},methods:{tabsCode:function(){null!=this.$route.query.activeName&&(this.activeName=this.$route.query.activeName)}}},F=q,K=(n("4540"),Object(l["a"])(F,a,i,!1,null,"554dce4b",null));e["default"]=K.exports},4540:function(t,e,n){"use strict";n("5cb8")},4665:function(t,e,n){"use strict";n("e0e4")},"5cb8":function(t,e,n){},"5e28":function(t,e,n){},8684:function(t,e,n){"use strict";n("0315")},"8dbb":function(t,e,n){},"9f1b":function(t,e,n){"use strict";n("8dbb")},a4a6:function(t,e,n){"use strict";n("5e28")},e0e4:function(t,e,n){},f192:function(t,e,n){t.exports=n.p+"img/wxapp-server.5594e89f.png"}}]);